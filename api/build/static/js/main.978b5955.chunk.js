(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{336:function(e,t,a){},409:function(e,t,a){e.exports=a(533)},414:function(e,t,a){},510:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(68),c=a.n(l);a(414),a(415),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(73),i=a(31),u=a(34),s=a(255),m=a(112),d=a(259),E=a(546),v=a(539),p=a(550),f=a(551),h=a(271),y=a(393),b=a(198),g=a.n(b),_=a(67),k=a(363),O=a.n(k),x="".concat(window.location.protocol,"//").concat(window.location.hostname);"localhost"==window.location.hostname&&(x+=":3000");var j=x,w=function(e,t,a,n,r,l){O.a.post(j+e,t,n?{headers:{Authorization:n}}:{}).then(a).catch(function(e){A(e,l),r&&r(!1)})},A=function(e,t){var a={};if(console.log("CAUGHT API CALL ERROR : ",e),403===e.response.status)return a.message="Your Session has timed out.",a.description="Please sign in again to continue.",y.a.error(a),void t("/");if(a={message:"There was an error."},!e.response)return e.data,void y.a.error({message:"There was an error.",description:e.message?e.message:e});var n=e.response;n.data&&(n.data.raw&&n.data.raw.message?a.description=n.data.raw.message:n.data.error&&n.data.error.message?a.description=n.data.error.message:"string"===typeof n.data.error?a.description=n.data.error:Array.isArray(n.data.error)?n.data.error.forEach(function(e){a.description+=e+"."}):n.data.message?a.description=n.data.message:n.message&&(a.description=n.message)),a.description||(a.description=e.response.statusText),y.a.error(a)},S=function(e){var t=new Date(1970,0,1);return t.setSeconds(e),t},C=function(e){var t=!1;switch(e){case"paid":t="green";break;case"invoiced_in_error":t="volcano";break;case"waiver":case"voucher":t="geekblue";break;case"refund":t="orange";break;case"uncollectible":t="magenta";break;case"open":t="cyan"}return t},I=function(e){var t={"balance.summary.1":"Balance - Summary","balance_change_from_activity.summary.1":"Balance change from activity - Summary","balance_change_from_activity.itemized.3":"Balance change from activity - Itemized","payouts.summary.1":"Payouts - Summary","payouts.itemized.3":"Payouts - Itemized","payout_reconciliation.summary.1":"Payout reconciliation - Summary","payout_reconciliation.itemized.5":"Payout reconciliation - Itemized","ending_balance_reconciliation.summary.1":"Ending balance reconciliation - Summary"};return t.hasOwnProperty(e)?t[e]:e=(e=e.replaceAll("."," ")).replaceAll("_"," ")},N=a(545),Y=function(e){var t=e.status,a=e.faint;return r.a.createElement(N.a,{style:{opacity:a?"0.4":"1"},color:C(t)},t?t.toUpperCase():"None")},M=a(189),D=function(e,t,a,n,r){w("/invoices/update/".concat(e),{invoice_id:t},function(e){200==e.status?n():A(e)},a,null,r)},T=function(e,t,a,n,r){w("/invoices/update/label/".concat(e),{invoice_id:t},function(e){200==e.status?n():A(e)},a,null,r)},P=function(e,t,a,n){return r.a.createElement(s.a,{items:[{key:1,label:r.a.createElement(o.b,{to:"/sheet/invoice/view/"+e},r.a.createElement(m.a,{type:"dashed",icon:r.a.createElement(p.a,null),block:!0},"View Invoice"))},{key:2,label:"Mark Invoice",children:[{key:"2.1",label:r.a.createElement(m.a,{block:!0,type:"dashed",onClick:function(){return T("paid",e,t,a,n)}},"Paid")},{key:"2.2",label:r.a.createElement(m.a,{block:!0,type:"dashed",onClick:function(){return T("invoiced_in_error",e,t,a,n)}},"Invoiced in error")},{key:"2.3",label:r.a.createElement(m.a,{block:!0,type:"dashed",onClick:function(){return T("waiver",e,t,a,n)}},"Waiver")},{key:"2.4",label:r.a.createElement(m.a,{block:!0,type:"dashed",onClick:function(){return T("voucher",e,t,a,n)}},"Voucher")},{key:"2.5",label:r.a.createElement(m.a,{block:!0,type:"dashed",onClick:function(){return T("refund",e,t,a,n)}},"Refund")},{key:"2.6",label:r.a.createElement(m.a,{block:!0,type:"dashed",onClick:function(){return T("uncollectible",e,t,a,n)}},"Uncollectible")}]},{key:3,label:"Change Status",children:[{key:"3.1",label:r.a.createElement(m.a,{block:!0,onClick:function(){return D("paid",e,t,a,n)}},"Paid")},{key:"3.2",label:r.a.createElement(m.a,{block:!0,onClick:function(){return D("invoiced_in_error",e,t,a,n)}},"Invoiced in error")},{key:"3.3",label:r.a.createElement(m.a,{block:!0,onClick:function(){return D("waiver",e,t,a,n)}},"Waiver")},{key:"3.4",label:r.a.createElement(m.a,{block:!0,onClick:function(){return D("voucher",e,t,a,n)}},"Voucher")},{key:"3.5",label:r.a.createElement(m.a,{block:!0,onClick:function(){return D("refund",e,t,a,n)}},"Refund")},{key:"3.6",label:r.a.createElement(m.a,{block:!0,onClick:function(){return D("uncollectible",e,t,a,n)}},"Uncollectible")}]},{key:4,label:r.a.createElement(m.a,{type:"primary",danger:!0,icon:r.a.createElement(f.a,null),block:!0,onClick:function(){return D("uncollectible",e,t,a,n)}},"Refund")}],onClick:function(e){return console.log(e)}})},R=function(e,t,a,n){console.log("params",e,t,a,n)},F=function(){var e=Object(_.c)(),t=Object(i.g)(),a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(!1),p=Object(u.a)(s,2),f=p[0],y=p[1],b=function(){y(!0),w("/invoices/list",{},function(e){var t=e.data.data.data;t.forEach(function(e,t){e.created_verbose=M.prettyPrint(S(e.created),{showTime:!0}),e.key=t}),y(!1),o(t)},e(),y,t)},k=[{title:"Offering",dataIndex:"account_name",key:"account_name"},{title:"Email",dataIndex:"customer_email",key:"customer_email"},{title:"Amount",dataIndex:"amount_due",key:"amount_due",align:"center",render:function(e,t){return r.a.createElement("span",null,function(e){return"".concat(g()(e.currency)).concat(Math.round(e.amount_due/100))}(t))}},{title:"Marked for",dataIndex:"metadata.marked_status",key:"marked_status",align:"center",render:function(e,t){if(t.metadata.marked_status)return r.a.createElement(Y,{faint:!0,status:t.metadata.marked_status})},filters:[{text:"Draft",value:"draft"},{text:"Invoiced in error",value:"invoiced_in_error"},{text:"Waiver",value:"waiver"},{text:"Voucher",value:"voucher"},{text:"Refund",value:"refund"},{text:"Uncollectible",value:"uncollectible"},{text:"Open",value:"open"},{text:"Paid",value:"paid"}],onFilter:function(e,t){return t.status===e}},{title:"Current status",dataIndex:"status",key:"status",align:"center",render:function(e,t){return r.a.createElement(Y,{status:t.metadata.hasOwnProperty("custom_status")?t.metadata.custom_status:e})},filters:[{text:"Draft",value:"draft"},{text:"Invoiced in error",value:"invoiced_in_error"},{text:"Waiver",value:"waiver"},{text:"Voucher",value:"voucher"},{text:"Refund",value:"refund"},{text:"Uncollectible",value:"uncollectible"},{text:"Open",value:"open"},{text:"Paid",value:"paid"}],onFilter:function(e,t){return t.status===e}},{title:"Created",dataIndex:"created_verbose",key:"created_verbose"},{title:"Action",dataIndex:"id",key:"action",render:function(a){return r.a.createElement(d.a,{arrow:!1,overlay:P(a,e(),b,t),placement:"bottomRight"},r.a.createElement(m.a,null,r.a.createElement(E.b,null,"Actions",r.a.createElement(h.a,null))))}}];return Object(n.useEffect)(function(){b()},[]),r.a.createElement("div",{className:"sheet"},r.a.createElement(E.b,null),r.a.createElement("h1",null,"Invoices "),r.a.createElement(v.a,{loading:f,dataSource:c,columns:k,onChange:R}))},L=a(552),z=a(553),B=a(283),G=a.n(B),W=a(189),$=function(e,t,a,n){console.log("params",e,t,a,n)},U=function(){var e=Object(_.c)(),t=Object(i.g)(),a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],s=l[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),f=p[0],h=p[1],y=[{title:"Report Category",dataIndex:"report_type",key:"report_type",render:function(e){return I(e)}},{title:"Size",dataIndex:"size",key:"size",render:function(e,t){return G()(t.result.size)+" KB"}},{title:"Created",dataIndex:"created",key:"created",render:function(e){return W.prettyPrint(S(e))}},{title:"Interval",dataIndex:"parameters",key:"parameters",render:function(e){return"".concat(W.prettyPrint(S(e.interval_start))," to ").concat(W.prettyPrint(S(e.interval_end)),".")}},{title:"Action",dataIndex:"id",key:"action",colSpan:2,render:function(e,t){return"succeeded"==t.status?r.a.createElement(o.b,{to:"/sheet/report/view/"+e},r.a.createElement(m.a,{type:"primary",icon:r.a.createElement(L.a,null),block:!0},"View Report")):r.a.createElement(m.a,{disabled:!0,type:"primary",icon:r.a.createElement(z.a,null),block:!0},"Report ",t.status)}}];return Object(n.useEffect)(function(){h(!0),w("/reports/list",{},function(e){var t=e.data.data.data;t.forEach(function(e){e.key=e.id}),s(t),h(!1)},e(),h,t)},[]),r.a.createElement("div",{className:"sheet"},r.a.createElement(E.b,null),r.a.createElement("h1",null,"Reports "),r.a.createElement(v.a,{loading:f,dataSource:c,columns:y,onChange:$}))},H=a(554),V=a(555),q=a(547),J=a(548),K=a(543),Q=a(541),X=a(544),Z=a(542),ee=(a(510),a(93)),te=a.n(ee),ae=a(283),ne=function(){var e=Object(n.useRef)(),t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(u.a)(o,2),m=s[0],d=s[1],E=Object(n.useState)(!0),v=Object(u.a)(E,2),p=v[0],f=v[1],h=Object(n.useState)([]),y=Object(u.a)(h,2),b=y[0],g=y[1],k=Object(n.useState)(!1),O=Object(u.a)(k,2),x=O[0],j=O[1],A=Object(n.useState)(!0),S=Object(u.a)(A,2),C=S[0],I=S[1],N=Object(n.useState)([]),Y=Object(u.a)(N,2),M=Y[0],D=Y[1],T=Object(n.useState)(!1),P=Object(u.a)(T,2),R=P[0],F=P[1],L=Object(n.useState)(!0),z=Object(u.a)(L,2),B=z[0],G=z[1],W=Object(n.useState)([]),$=Object(u.a)(W,2),U=$[0],ee=$[1],ne=Object(n.useState)(!1),re=Object(u.a)(ne,2),le=re[0],ce=re[1],oe=Object(n.useState)(!0),ie=Object(u.a)(oe,2),ue=ie[0],se=ie[1],me=Object(_.c)(),de=Object(i.g)(),Ee=function(e){return m?m[e]:0},ve=function(e){return x?x[e]:0},pe=function(e){return R?R[e]:0},fe=function(e){return le?le[e]:0};Object(n.useEffect)(function(){!function(){var e=te()().subtract(1,"day"),t=e.startOf("day").unix(),a=e.endOf("day").unix();w("/reports/dashboard/day",{start:t,end:a},function(e){var t=e.data.data,a=0,n=0;t.forEach(function(e){var t=new Date;t.setHours(e._id.hour),e.total_amount/=100,e.hour=te()(t).format("hh a"),n+=e.count,a+=e.total_amount,delete e._id}),d({amount:a,count:n,amount_avg:Math.round(a/t.length),count_avg:Math.round(n/t.length)}),console.log("YESTERDAY AGGREGATE DATA",t),c(t)},me(),null,de)}(),function(){var e=te()().subtract(1,"week"),t=e.startOf("day").unix(),a=e.endOf("day").unix();w("/reports/dashboard/week",{start:t,end:a},function(e){var t=e.data.data,a=0,n=0;t.forEach(function(e){e.date="".concat(e._id.year,"/").concat(e._id.month,"/").concat(e._id.day),e.total_amount/=100,n+=e.count,a+=e.total_amount,delete e._id}),console.log(t),j({amount:a,count:n,amount_avg:Math.round(a/t.length),count_avg:Math.round(n/t.length)}),console.log("LAST WEEK AGGREGATE DATA",t),g(t)},me(),null,de)}(),function(){var e=te()().subtract(1,"month"),t=e.startOf("day").unix(),a=e.endOf("day").unix();w("/reports/dashboard/week",{start:t,end:a},function(e){var t=e.data.data,a=0,n=0;t.forEach(function(e){e.date="".concat(e._id.year,"/").concat(e._id.month,"/").concat(e._id.day),e.total_amount/=100,n+=e.count,a+=e.total_amount,delete e._id}),console.log(t),F({amount:a,count:n,amount_avg:Math.round(a/t.length),count_avg:Math.round(n/t.length)}),console.log("LAST MONTH AGGREGATE DATA",t),D(t)},me(),null,de)}(),function(){var e=te()().subtract(1,"month"),t=e.startOf("day").unix(),a=e.endOf("day").unix();w("/reports/dashboard/year",{start:t,end:a},function(e){var t=e.data.data,a=0,n=0;t.forEach(function(e){e.date="".concat(e._id.year,"/").concat(e._id.month),e.total_amount/=100,n+=e.count,a+=e.total_amount,delete e._id}),ce({amount:a,count:n,amount_avg:Math.round(a/t.length),count_avg:Math.round(n/t.length)}),console.log("LAST YEAR AGGREGATE DATA",t),ee(t)},me(),null,de)}()},[]);var he={stroke:"rgb(80, 80, 80)",lineDash:[10,5],lineWidth:2,opacity:.75},ye={fill:"l(270) 0:#af7bb4b2 1:#165481ad"},be={xField:"hour",yField:"total_amount",annotations:[{type:"text",position:["min",Ee("amount_avg")],content:"Average Amount : $".concat(ae(Ee("amount_avg"))),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",Ee("amount_avg")],end:["max",Ee("amount_avg")],style:he}],meta:{hour:{alias:"Time",formatter:function(e){return"0"==e[0]?e.substring(1):e}},total_amount:{alias:"Amount",formatter:function(e){return"$ ".concat(ae(e))}}},xAxis:{tickCount:24},smooth:!0,areaStyle:ye},ge={xField:"hour",yField:"count",annotations:[{type:"text",position:["min",Ee("count_avg")],content:"Average Count : ".concat(ae(Ee("count_avg"))," Invoices"),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",Ee("count_avg")],end:["max",Ee("count_avg")],style:he}],meta:{hour:{alias:"Time",formatter:function(e){return"0"==e[0]?e.substring(1):e}},count:{alias:"Invoice Count",formatter:function(e){return"".concat(e," Invoices")}}},xAxis:{tickCount:24},smooth:!0},_e={xField:"date",yField:"total_amount",annotations:[{type:"text",position:["min",ve("amount_avg")],content:"Average Amount : $".concat(ae(ve("amount_avg"))),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",ve("amount_avg")],end:["max",ve("amount_avg")],style:he}],meta:{date:{alias:"Date",formatter:function(e){return te()(e,"YYYY/M/D").format("dddd, Do MMMM")}},total_amount:{alias:"Total Amount",formatter:function(e){return"$ ".concat(ae(e))}}},smooth:!0,areaStyle:ye},ke={xField:"date",yField:"count",annotations:[{type:"text",position:["min",ve("count_avg")],content:"Average Count : ".concat(ae(ve("count_avg"))," Invoices"),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",ve("count_avg")],end:["max",ve("count_avg")],style:he}],meta:{date:{alias:"Date",formatter:function(e){return te()(e,"YYYY/M/D").format("dddd, DD MMMM")}},count:{alias:"Invoice Count",formatter:function(e){return"".concat(e," Invoices")}}},smooth:!0,areaStyle:ye},Oe={xField:"date",yField:"total_amount",annotations:[{type:"text",position:["min",pe("amount_avg")],content:"Average Amount : $".concat(ae(pe("amount_avg"))),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",pe("amount_avg")],end:["max",pe("amount_avg")],style:he}],meta:{date:{alias:"Date",formatter:function(e){return te()(e,"YYYY/M/D").format("Do MMM, YYYY (ddd)")}},total_amount:{alias:"Total Amount",formatter:function(e){return"$ ".concat(ae(e))}}},smooth:!0,areaStyle:ye},xe={xField:"date",yField:"count",annotations:[{type:"text",position:["min",pe("count_avg")],content:"Average Count : ".concat(ae(pe("count_avg"))," Invoices"),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",pe("count_avg")],end:["max",pe("count_avg")],style:he}],meta:{date:{alias:"Date",formatter:function(e){return te()(e,"YYYY/M/D").format("MMMM d, YYYY (dddd)")}},count:{alias:"Invoice Count",formatter:function(e){return"".concat(e," Invoices")}}},smooth:!0,areaStyle:ye},je={xField:"date",yField:"total_amount",annotations:[{type:"text",position:["min",fe("amount_avg")],content:"Average Amount : $".concat(ae(fe("amount_avg"))),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",fe("amount_avg")],end:["max",fe("amount_avg")],style:he}],meta:{date:{alias:"Date",formatter:function(e){return te()(e,"YYYY/M").format("Do MMM, YYYY (ddd)")}},total_amount:{alias:"Total Amount",formatter:function(e){return"$ ".concat(ae(e))}}},smooth:!0,areaStyle:ye},we={xField:"date",yField:"count",annotations:[{type:"text",position:["min",fe("count_avg")],content:"Average Count : ".concat(ae(fe("count_avg"))," Invoices"),offsetY:-4,style:{textBaseline:"bottom"}},{type:"line",start:["min",fe("count_avg")],end:["max",fe("count_avg")],style:he}],meta:{date:{alias:"Date",formatter:function(e){return te()(e,"YYYY/M").format("MMMM d, YYYY (dddd)")}},count:{alias:"Invoice Count",formatter:function(e){return"".concat(e," Invoices")}}},smooth:!0,areaStyle:ye};return r.a.createElement("div",{className:" statistic-wrapper sheet",style:{minHeight:"90vh"}},r.a.createElement(q.a,null,r.a.createElement(J.a,{span:6},r.a.createElement("div",{className:"statistic-card sheet"},r.a.createElement("h3",null,"Yesterday"),r.a.createElement("div",{className:"statistic-container",onMouseOver:function(){return e.current.goTo(0)}},r.a.createElement(q.a,{gutter:16,justify:"space-between"},r.a.createElement(J.a,null,r.a.createElement(K.a,{loading:!m,title:"Amount",prefix:r.a.createElement(H.a,null),value:m&&ae(m.amount)})),r.a.createElement(J.a,null,r.a.createElement(K.a,{loading:!m,title:"Invoices",prefix:r.a.createElement(V.a,null),value:m&&ae(m.count)})))))),r.a.createElement(J.a,{span:6},r.a.createElement("div",{className:"statistic-card sheet"},r.a.createElement("h3",null,"Last Week"),r.a.createElement("div",{className:"statistic-container",onMouseOver:function(){return e.current.goTo(1)}},r.a.createElement(q.a,{gutter:16,justify:"space-between"},r.a.createElement(J.a,null,r.a.createElement(K.a,{loading:!x,title:"Amount",prefix:r.a.createElement(H.a,null),value:x&&ae(x.amount)})),r.a.createElement(J.a,null,r.a.createElement(K.a,{loading:!x,title:"Invoices",prefix:r.a.createElement(V.a,null),value:x&&ae(x.count)})))))),r.a.createElement(J.a,{span:6},r.a.createElement("div",{className:"statistic-card sheet"},r.a.createElement("h3",null,"Last Month"),r.a.createElement("div",{className:"statistic-container",onMouseOver:function(){return e.current.goTo(2)}},r.a.createElement(q.a,{gutter:16,justify:"space-between"},r.a.createElement(J.a,null,r.a.createElement(K.a,{loading:!R,title:"Amount",prefix:r.a.createElement(H.a,null),value:R&&ae(R.amount)})),r.a.createElement(J.a,null,r.a.createElement(K.a,{loading:!R,title:"Invoices",prefix:r.a.createElement(V.a,null),value:R&&ae(R.count)})))))),r.a.createElement(J.a,{span:6},r.a.createElement("div",{className:"statistic-card sheet"},r.a.createElement("h3",null,"Last Yar"),r.a.createElement("div",{className:"statistic-container",onMouseOver:function(){return e.current.goTo(3)}},r.a.createElement(q.a,{gutter:16,justify:"space-between"},r.a.createElement(J.a,null,r.a.createElement(K.a,{loading:!le,title:"Amount",prefix:r.a.createElement(H.a,null),value:le&&ae(le.amount)})),r.a.createElement(J.a,null,r.a.createElement(K.a,{loading:!le,title:"Invoices",prefix:r.a.createElement(V.a,null),value:le&&ae(le.count)}))))))),r.a.createElement("div",{className:"sheet"},r.a.createElement(Q.a,{ref:function(t){return e.current=t},dotPosition:"top",autoplay:!0,autoplaySpeed:5e3},r.a.createElement("div",{className:"carousel-container"},r.a.createElement("div",{className:"sheet menu"},r.a.createElement("div",null,r.a.createElement("h2",null,"Yesterday's Hourly Data")),r.a.createElement(X.a,{options:["Amount","Count"],onChange:function(e){return f("Amount"===e)}})),p?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Amount vs Hour"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Z.a,Object.assign({data:l},be)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Invoice Count vs Hour"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Z.a,Object.assign({data:l},ge)))),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("div",{className:"carousel-container"},r.a.createElement("div",{className:"sheet menu"},r.a.createElement("div",null,r.a.createElement("h2",null,"Last Weeks's Data")),r.a.createElement(X.a,{options:["Amount","Count"],onChange:function(e){return I("Amount"===e)}})),C?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Amount vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Z.a,Object.assign({data:b},_e)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Invoice Count vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Z.a,Object.assign({data:b},ke)))),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("div",{className:"carousel-container"},r.a.createElement("div",{className:"sheet menu"},r.a.createElement("div",null,r.a.createElement("h2",null,"Last Month's Data")),r.a.createElement(X.a,{options:["Amount","Count"],onChange:function(e){return G("Amount"===e)}})),B?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Amount vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Z.a,Object.assign({data:M},Oe)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Invoice Count vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Z.a,Object.assign({data:M},xe)))),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("div",{className:"carousel-container"},r.a.createElement("div",{className:"sheet menu"},r.a.createElement("div",null,r.a.createElement("h2",null,"Last Year's Data")),r.a.createElement(X.a,{options:["Amount","Count"],onChange:function(e){return se("Amount"===e)}})),ue?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Amount vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Z.a,Object.assign({data:U},je)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Invoice Count vs Date"),r.a.createElement("div",{className:"chart-wrapper"},r.a.createElement(Z.a,Object.assign({data:U},we)))),r.a.createElement("div",null),r.a.createElement("div",null)))))},re=(a(529),a(336),a(538)),le=a(198),ce=a(189);var oe=[{title:"No.",dataIndex:"dummy",key:"dummy",render:function(e,t,a){return a+1}},{title:"Description",dataIndex:"description",key:"description"},{title:"Type",dataIndex:"price",render:function(e){var t=e.type.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});return t=t.replaceAll("_"," ")},key:"type"},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Amount",dataIndex:"amount",key:"amount",render:function(e,t){return le(t.currency)+Math.round(e/100)}}],ie=function(){var e=Object(_.c)(),t=Object(i.g)(),a=Object(i.h)().invoice_id,l=Object(n.useState)({}),c=Object(u.a)(l,2),o=c[0],s=c[1],d=Object(n.useState)([]),E=Object(u.a)(d,2),p=E[0],h=E[1];return Object(n.useEffect)(function(){w("/invoices/retrieve",{invoice_id:a},function(e){var t=e.data.data;s(t),h(t.lines.data)},e(),null,t)},[]),r.a.createElement("div",{className:"sheet"},r.a.createElement("div",{className:"sheet envelope no-margin"},o.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,o.customer_name?"".concat(o.customer_name.split(" ")[0],"'s Invoice"):"Invoice"," "),r.a.createElement("h3",null,o.number," for ",le(o.currency)+o.amount_due,"  "),r.a.createElement("h3",null,"Due in ",ce.relativeTime(S(o.due_date)),".  ")),r.a.createElement("div",{className:"envelope-sub"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Invoice ID :"),r.a.createElement("div",null,r.a.createElement(N.a,null,o.id))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Charge Date : "),r.a.createElement("div",null,r.a.createElement(N.a,null,ce.prettyPrint(S(o.created),{showTime:!0})))),r.a.createElement("div",{className:"row",style:{marginTop:"1.2em",display:"flex",justifyContent:"flex-end",marginRight:"0.2em"}},r.a.createElement(m.a,{size:"huge",type:"primary",danger:!0,icon:r.a.createElement(f.a,null)},"Refund"))))),o.id&&r.a.createElement("div",{className:"sheet no-margin invoice-container"},r.a.createElement(q.a,{gutter:16},r.a.createElement(J.a,{span:8},r.a.createElement("h2",null,"From"),r.a.createElement("div",{className:"bulky-divider"}),r.a.createElement("h3",null,o.account_name)),r.a.createElement(J.a,{span:8},r.a.createElement("h2",null,"To"),r.a.createElement("div",{className:"bulky-divider"}),o.customer_name&&r.a.createElement("h4",null,"Name : ",o.customer_name),o.customer_email&&r.a.createElement("h4",null,"Email : ",o.customer_email),o.customer_address&&r.a.createElement("h4",null,"Address : ",o.customer_address),o.customer_phone&&r.a.createElement("h4",null,"Phone : ",o.customer_phone)),r.a.createElement(J.a,{span:8},r.a.createElement("h2",null,"Details"),r.a.createElement("div",{className:"bulky-divider"}),r.a.createElement("h4",null,"Invoice total : ",le(o.currency),Math.round(o.amount_due/100)),r.a.createElement("h4",null,"Status : ",r.a.createElement(Y,{status:o.status})))),r.a.createElement(re.a,null),r.a.createElement(v.a,{columns:oe,dataSource:p})),r.a.createElement(re.a,null))},ue=a(389),se=a(556),me=(a(198),a(189));var de=function(){var e=Object(_.c)(),t=Object(i.g)(),a=Object(i.h)().report_id,l=Object(n.useState)({}),c=Object(u.a)(l,2),o=c[0],s=c[1],d=Object(n.useState)(!1),E=Object(u.a)(d,2),p=E[0],f=E[1],h=Object(n.useState)([]),y=Object(u.a)(h,2),b=y[0],g=y[1],k=Object(n.useState)([]),O=Object(u.a)(k,2),x=O[0],j=O[1];return Object(n.useEffect)(function(){w("/reports/retrieve",{report_id:a},function(a){var n=a.data.data;console.log(n),s(n),w("/reports/file",{file_id:n.result.id},function(e){var t=e.data.data,a=t.content,n=t.link;f(n);var r=[];for(var l in a[0])if(Object.hasOwnProperty.call(a[0],l)){if("category"==l)continue;var c={dataIndex:l,key:l},o=l.replaceAll("_"," ");c.title=o.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}),r.push(c)}j(r),g(a)},e(),null,t)},e(),null,t)},[]),r.a.createElement("div",{className:"sheet"},r.a.createElement("div",{className:"sheet envelope no-margin"},o.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,o?I(o.report_type):"Report"," "),o&&r.a.createElement("h3",null,"From ",r.a.createElement("u",null,me.prettyPrint(S(o.parameters.interval_start)))," to ",r.a.createElement("u",null,me.prettyPrint(S(o.parameters.interval_end)),"."))),r.a.createElement("div",{className:"envelope-sub"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Report ID :"),r.a.createElement("div",null,r.a.createElement(N.a,null,o.id))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Created On : "),r.a.createElement("div",null,r.a.createElement(N.a,null,me.prettyPrint(S(o.created),{showTime:!0})))),r.a.createElement("div",{className:"row",style:{marginTop:"1.2em",display:"flex",justifyContent:"flex-end",marginRight:"0.2em"}},r.a.createElement(m.a,{target:"blank",href:p,disabled:!p,size:"huge",type:"primary",icon:r.a.createElement(se.a,null),shape:"round"},"Download CSV")))):r.a.createElement(ue.a,{active:!0})),b&&r.a.createElement("div",{className:"sheet no-margin invoice-container"},r.a.createElement(v.a,{loading:0==b.length,columns:x,dataSource:b,pagination:!1})))},Ee=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"",element:r.a.createElement(ne,null)}),r.a.createElement(i.b,{path:"invoice/list",element:r.a.createElement(F,null)}),r.a.createElement(i.b,{path:"invoice/view/:invoice_id",element:r.a.createElement(ie,null)}),r.a.createElement(i.b,{path:"report/list",element:r.a.createElement(U,null)}),r.a.createElement(i.b,{path:"report/view/:report_id",element:r.a.createElement(de,null)}))},ve=(a(532),a(540)),pe=a(387),fe=a(549),he=a(557),ye=a(558),be=a(268),ge=a(559),_e=a(560),ke=a(391),Oe=function(){var e=Object(n.useState)("hrushikeshchapke@gmail.com"),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)("password"),o=Object(u.a)(c,2),s=o[0],d=o[1],v=Object(n.useState)(""),p=Object(u.a)(v,2),f=p[0],h=p[1],y=Object(n.useState)(""),b=Object(u.a)(y,2),g=b[0],k=b[1],O=Object(n.useState)(""),x=Object(u.a)(O,2),j=x[0],A=x[1],S=Object(n.useState)([]),C=Object(u.a)(S,2),I=C[0],N=C[1],Y=Object(n.useState)([]),M=Object(u.a)(Y,2),D=M[0],T=M[1],P=Object(_.d)(),R=Object(i.g)();return r.a.createElement("div",{className:"login-container"},r.a.createElement(ke.a,{fill:"#7a7a7a2f",paused:!1,options:{height:360,amplitude:40,speed:.15,points:8},style:{position:"absolute",bottom:"0px",top:"0px",zIndex:"2 !important"}}),r.a.createElement("div",{className:"sheet login"},r.a.createElement(ve.a,{tabPosition:"bottom"},r.a.createElement(ve.a.TabPane,{tab:"Login",key:1},r.a.createElement(E.b,{direction:"vertical",align:"center",className:"fields-container"},r.a.createElement("h2",{style:{textDecoration:"underline"}},"Login"),r.a.createElement(pe.a,{onChange:function(e){return l(e.target.value)},type:"email",placeholder:"Enter E-mail",prefix:r.a.createElement(he.a,null)}),r.a.createElement(pe.a,{onChange:function(e){return d(e.target.value)},type:"password",placeholder:"Enter password",prefix:r.a.createElement(ye.a,null)}),r.a.createElement("a",{className:"forgot-btn",href:"#"},"Forgot Password?"),I.map(function(e,t){return r.a.createElement(fe.a,{icon:r.a.createElement(be.a,null),showIcon:!0,style:{fontSize:"0.8em"},message:e,key:t,type:"error"})}),r.a.createElement("br",null),r.a.createElement(m.a,{type:"primary",onClick:function(){return function(){var e=[];a||e.push("Please enter a valid e-mail."),s||e.push("Please enter your password."),e.length>0?N(e):w("/auth/login",{email:a,password:s},function(e,t){console.log("LOGIN CALL RESPONSE",e,t),R("/sheet/"),e.data.token&&P({token:e.data.token,expiresIn:86400,tokenType:"Bearer",authState:e.data.user})})}()},icon:r.a.createElement(ge.a,null)},"Login"),r.a.createElement("br",null))),r.a.createElement(ve.a.TabPane,{tab:"Register",key:2},r.a.createElement(E.b,{direction:"vertical",align:"center",className:"fields-container"},r.a.createElement("h2",{style:{textDecoration:"underline"}},"Register"),r.a.createElement(pe.a,{onChange:function(e){return h(e.target.value)},type:"email",placeholder:"Enter E-mail",prefix:r.a.createElement(he.a,null)}),r.a.createElement(pe.a,{onChange:function(e){return k(e.target.value)},type:"password",placeholder:"Enter password",prefix:r.a.createElement(ye.a,null)}),r.a.createElement(pe.a,{onChange:function(e){return A(e.target.value)},type:"password",placeholder:"Confirm password",prefix:r.a.createElement(ye.a,null)}),D.map(function(e,t){return r.a.createElement(fe.a,{icon:r.a.createElement(be.a,null),showIcon:!0,style:{fontSize:"0.8em"},message:e,key:t,type:"error"})}),r.a.createElement("br",null),r.a.createElement(m.a,{onClick:function(){return function(){var e=[];f||e.push("Please enter a valid e-mail."),g||e.push("Please enter your password."),j||e.push("Please confirm your password."),g!==j&&e.push("Your passwords don't match, please try again."),e.length>0?T(e):w("/auth/register",{email:f,password:g},function(e,t){console.log("REGISTER CALL RESPONSE",e,t),R("/sheet/"),e.data.token&&P({token:e.data.token,expiresIn:86400,tokenType:"Bearer",authState:e.data.user})})}()},type:"primary",icon:r.a.createElement(_e.a,null)},"Register"),r.a.createElement("br",null))))))},xe=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"",element:r.a.createElement(Oe,null)}))};c.a.render(r.a.createElement(_.a,{authType:"cookie",authName:"_auth",expiresIn:86400,cookieDomain:window.location.hostname,cookieSecure:"https:"===window.location.protocol},r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",element:r.a.createElement(xe,null)}),r.a.createElement(i.b,{path:"sheet/*",element:r.a.createElement(_.b,{loginPath:"/"},r.a.createElement(Ee,null))})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[409,1,2]]]);
//# sourceMappingURL=main.978b5955.chunk.js.map